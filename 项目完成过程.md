project-display项目，意为“项目展示”，主要用来展示142vip.cn网站在重构过程中使用到的开源项目管理后台、以及自己的开源项目、已完成的项目的展示，将会涉及到两端。即：Web端和移动端

### 技术选型

- [Vue框架](https://cn.vuejs.org/) 项目主体框架
- [Element UI框架](https://element.eleme.cn/#/zh-CN/component/carousel) 构建Web端页面，进行适配
- [Vant UI框架](https://youzan.github.io/vant/#/zh-CN/swipe)构建移动端页面，进行适配

### 项目创建

```bash
## 创建project-display项目
vue init webpack project-display
```

![image-20200607121219506](C:\Users\Taylor\Desktop\github\project-display\img\image-20200607121219506.png)

等待创建完成，即可进行项目中进行开发

如果没有安装环境，使用vue webpack 模板搭建项目步骤：

- 安装 node.js(npm)，因为会用到npm包管理工具下载项目依赖等
- 安装 webpack: npm install webpack -g
- 安装 vue-cli： npm install vue-cli –g
- 通过vue-cli，初始化vue项目： vue init webpack projectName(项目名),进入到项目目录： cd projectName(项目名)
- 安装项目依赖： npm install
- 启动项目： npm run dev

项目启动后，进行页面地址访问

![image-20200607121603360](C:\Users\Taylor\Desktop\github\project-display\img\image-20200607121603360.png)

初始化效果如下：

![image-20200607121637610](C:\Users\Taylor\Desktop\github\project-display\img\image-20200607121637610.png)

### 页面构建

首先创建页面，在src目录下创建view文件夹，用来存放单页面，针对web端页面，创建web.vue文件；针对移动端页面，创建mobile.vue文件，如下：

![image-20200607122137040](C:\Users\Taylor\Desktop\github\project-display\img\image-20200607122137040.png)

#### Web端页面

- 构建基本页面框架

```vue
<!-- 存放html页面元素-->
<template>
    <div>

    </div>
</template>
<!-- 存放style样式-->
<style lang="">

</style>
<!-- 存放JavaScript-->
<script>
export default {

}
</script>

```

- 引入ElementUI框架

```bash
## 安装element UI
npm i element-ui -S
## 全局引入

```

全局引入

```js
// 在 main.js 中写入以下内容：
import Vue from 'vue';
import ElementUI from 'element-ui';
import 'element-ui/lib/theme-chalk/index.css';
import App from './App.vue';

Vue.use(ElementUI);

new Vue({
  el: '#app',
  render: h => h(App)
});
```

按需引入

```js
// 比如 Button 和 Select，那么需要在 main.js 中写入以下内容：
import Vue from 'vue';
import { Button, Select } from 'element-ui';
import App from './App.vue';

Vue.component(Button.name, Button);
Vue.component(Select.name, Select);
/* 或写为
 * Vue.use(Button)
 * Vue.use(Select)
 */

new Vue({
  el: '#app',
  render: h => h(App)
});
```

具体方法可以参考ElementUI的[快速上手](https://element.eleme.cn/#/zh-CN/component/quickstart)

- 开发页面

对于web端的功能，需要实现简单的图片轮播，调整好前端页面的显示效果；具体可以查看`src`目录下的web.vue文件，有相应的css文件，实际效果如下：

![image-20200609140209515](C:\Users\Taylor\Desktop\github\project-display\img\image-20200609140209515.png)

#### 移动端页面

- 构建基本页面框架

```vue
<!-- 存放html页面元素-->
<template>
    <div>

    </div>
</template>
<!-- 存放style样式-->
<style lang="">

</style>
<!-- 存放JavaScript-->
<script>
export default {

}
</script>

```

- 引入VantUI框架

按需引入

[babel-plugin-import](https://github.com/ant-design/babel-plugin-import) 是一款 babel 插件，它会在编译过程中将 import 的写法自动转换为按需引入的方式

```js
// 在终端执行命令安装插件
npm i babel-plugin-import -D
// 在.babelrc 中添加配置
// 注意：webpack 1 无需设置 libraryDirectory
{
  "plugins": [
    ["import", {
      "libraryName": "vant",
      "libraryDirectory": "es",
      "style": true
    }]
  ]
}

// 对于使用 babel7 的用户，可以在 babel.config.js 中配置
module.exports = {
  plugins: [
    ['import', {
      libraryName: 'vant',
      libraryDirectory: 'es',
      style: true
    }, 'vant']
  ]
};
// 接着你可以在代码中直接引入 Vant 组件
// 插件会自动将代码转化为方式二中的按需引入形式
import { Button } from 'vant';
```

全局引入

```js
// Vant 支持一次性导入所有组件，引入所有组件会增加代码包体积，因此不推荐这种做法
import Vue from 'vue';
import Vant from 'vant';
import 'vant/lib/index.css';

Vue.use(Vant);
```

更多使用方式，可以参考[Vant官网](https://youzan.github.io/vant/#/zh-CN/quickstart)

- 开发页面

对于移动端的页面开发 ，主要是在web端界面的基础上，开发一套试用与手机的页面效果，因此采用Vant框架中的相关组件进行功能页面适配，可以参考`src`目录下的mobile.vue代码，实际效果如下：

![image-20200609140530406](C:\Users\Taylor\Desktop\github\project-display\img\image-20200609140530406.png)

#### 公共页脚

在一般的网站结构中都会进行头部、内容、页脚等内容划分，同样在这个简单的项目展示`project-display`中，也会相应的给出展示，考虑的同时在web端和移动端页面中共用，将底部内容统一抽离成组件，进行服用，具体可以参考`components`下的foot.vue文件；页脚的内容包含以下三部分：

- 云服务推荐链接（滑稽）

- 网站站点域名的备案信息
- 个人相关社区账号主页（求关注三连~）

实际效果如下：

![image-20200609141108419](C:\Users\Taylor\Desktop\github\project-display\img\image-20200609141108419.png)

### 上线部署

待到项目基本开发完成，也就是web端和移动端页面效果调试完毕，选在nginx中上线；主要就是当前项目基本是前端代码，涉及到很少的接口请求，用nginx+docker部署会比较方便；

#### 区分终端

从项目的基础结构中可以看出，存在两个页面web.vue和mobile.vue，分别去适配不同的终端；目前采用的是在src目录下去创建judge.vue的文件，当页面路由为`/`时，router会渲染到judge.vue，此时judge.vue下面的created方法中会进行终端区分，区分方法为：

```js
// 页面创建时执行
created () {
    const isPhone = navigator.userAgent.match(/(phone|pad|pod|iPhone|iPod|ios|iPad|Android|Mobile|BlackBerry|IEMobile|MQQBrowser|JUC|Fennec|wOSBrowser|BrowserNG|WebOS|Symbian|Windows Phone)/i)
    if (isPhone) {
      // 手机端
      this.isPhoneShow = true
    } else {
      // pc端
      this.isPhoneShow = false
    }
 }


```
通过isPhoneShow的值来控制对应的组件是否显示

```vue
// v-if逻辑
<template>
    <div>
        // 移动页面
        <mobilePage v-if="isPhoneShow"></mobilePage>
        // web页面
        <webPage v-if="!isPhoneShow"></webPage>
    </div>
</template>
```

功能单一，目的明确

#### 项目数据更新



#### docker下nginx的部署

